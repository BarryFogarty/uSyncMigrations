@inherits Umbraco.Web.Macros.PartialViewMacroPage


@*
    Macro to display a series of images from a media folder.

    How it works:
        - Confirm the macro parameter has been passed in with a value
        - Loop through all the media Id's passed in (might be a single item, might be many)
        - Display any individual images, as well as any folders of images

    Macro Parameters To Create, for this macro to work:
    Alias:mediaId     Name:Select folder with images    Type:Single Media Picker
*@

@{ var mediaId = Model.MacroParameters["mediaId"]; }
@if (mediaId != null)
{
    @* Get all the media item associated with the id passed in *@
    var media = Umbraco.Media("1985");
    var selection = media.Descendants("Image").OrderBy("umbracoBytes.Length descending");

    if (selection.Any())
    {
        <div class="container">
		<div class="column-layout">
		<div class="left">
		<table>
		  <thead>
			 <tr>
			   <th>File</th>
			   <th>Size</th>
			   <th>Image</th>
			 </tr>
		   </thead>
		 <tbody>
            @foreach (var item in selection)
            {
                    <tr>
						<td>@item.Url</td>
						<td>@item.umbracoBytes</td>
						<td "width:100%"><img src="@item.umbracoFile" alt="@item.Name" /></td>
				    </tr>	
            }
		    </tbody>
		</table>
        </div>
				</div>
				</div>
    }
}
