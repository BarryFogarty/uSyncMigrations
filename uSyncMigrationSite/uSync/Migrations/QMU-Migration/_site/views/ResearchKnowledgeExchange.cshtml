@inherits Umbraco.Web.Mvc.UmbracoViewPage<ContentModels.ResearchKnowledgeExchange>
@using ContentModels = Umbraco.Web.PublishedModels;
@using Umbraco.Web
@{
    Layout = "Master.cshtml";

    var banner = Model.Banner;
}


<main role="main" class="main-content image smaller" aria-label="main body content">

    <img class="bg-research-knowledge-image" src="@banner.Image.Url()" alt="@banner.Image.Value("altText")" />

    <div class="container">
        <div class="column-layout no-header">
            <div class="left">
                @Html.CachedPartial("breadcrumb", Model, QMUCloud.Core.QMUConstants.PartialCachedSeconds, true)
                <h1>@Model.DisplayTitle</h1>
                @Html.CachedPartial("shareUpper", Model, QMUCloud.Core.QMUConstants.PartialCachedSeconds, true)
            </div>
            <div class="right">
            </div>
        </div>
        <div class="column-layout">
            <div class="left" id="left" tabindex="-1">
                <!-- Image quote here -->
                @if (Model.ImageAndQuote.Image != null && !String.IsNullOrEmpty(Model.ImageAndQuote.Quote))
                {
                    <div class="teal-image">
                        <span style="background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(@Model.ImageAndQuote.Image.Url());" class="bg-cover-img" role="img" aria-label="@Model.ImageAndQuote.Image.Value("altText")"> </span>
                        <div class="text-overlay">
                            @Model.ImageAndQuote.Quote
                            @if (!String.IsNullOrEmpty(Model.ImageAndQuote.Source))
                            {
                                <strong>@Model.ImageAndQuote.Source</strong>
                            }
                        </div>
                    </div>
                }

                <p class="lead">@Model.Introduction</p>
                @Html.Partial("centralBlocks", Model)
                @Html.CachedPartial("mediaGallery", Model, QMUCloud.Core.QMUConstants.PartialCachedSeconds, true)
                @Html.CachedPartial("shareLower", Model, QMUCloud.Core.QMUConstants.PartialCachedSeconds, true)
            </div>
            <div class="right">
                @if (Model.ContactPicker != null)
                {
                    @Html.CachedPartial("ContactGroup", Model, QMUCloud.Core.QMUConstants.PartialCachedSeconds, true)
                }
                @Html.GetGridHtml(Model, "rcContent")
            </div>
        </div>
    </div>
</main>

@Html.CachedPartial("_relatedContent", Model, QMUCloud.Core.QMUConstants.PartialCachedSeconds, true)